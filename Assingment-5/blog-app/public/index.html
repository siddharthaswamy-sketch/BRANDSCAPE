<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Blog Post Manager</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>My Blog Posts</h1>
  <div id="posts"></div>

  <form id="postForm">
    <input type="text" id="title" placeholder="Title" required>
    <textarea id="content" placeholder="Content" required></textarea>
    <button type="submit">Add Post</button>
  </form>

  <script>
    async function loadPosts() {
      const res = await fetch('/api/posts');
      const posts = await res.json();
      const container = document.getElementById('posts');
      container.innerHTML = posts.map(p =>
        `<div><h3>${p.title}</h3><p>${p.content}</p></div>`
      ).join('');
    }

    document.getElementById('postForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      await fetch('/api/posts', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
          title: document.getElementById('title').value,
          content: document.getElementById('content').value
        })
      });
      loadPosts();
    });

    loadPosts();
  </script>
</body>
</html>
